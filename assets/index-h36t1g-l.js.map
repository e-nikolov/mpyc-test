{"version":3,"file":"index-h36t1g-l.js","sources":["../../bench/channels/index.ts","../../bench/channels/index.html?html-proxy&index=1.js"],"sourcesContent":["'use strict';\n\nexport function main() {\n\n    let out = document.querySelector<HTMLDivElement>(\"#out\")\n\n    let n = 11111\n    let ch = new MessageChannel()\n    let xx = 0\n\n    // function toString() {\n    //     return `${this.name}\\t\\t${Math.round(1000 * this.N / (this.duration + 1)).toLocaleString()} ops/sec`\n    // }\n\n    function toString(t) {\n        // return Math.round(t / 1000).toLocaleString()   \n        return Math.round(t).toLocaleString()\n    }\n\n    ch.port1.onmessage = (e) => {\n        xx += 1\n        if (xx >= n) {\n            let tre = performance.now() - ts\n\n            out.innerHTML += `done receiving, ${toString(tre / 1000)}, ${toString(1000 * n / tre)} <br>`\n        }\n    }\n\n    out.innerHTML += `start sending <br>`\n\n    let ts = performance.now()\n\n    for (let i = 0; i < n; i++) {\n        ch.port2.postMessage(\"\")\n    }\n\n    let tse = performance.now() - ts\n\n\n    out.innerHTML += `done sending, ${toString(tse / 1000)}, ${toString(1000 * n / tse)} <br>`\n}\n","\n    import * as bench from \"./index.ts\"\n    bench.main()\n  "],"names":["out","document","querySelector","n","ch","MessageChannel","xx","toString","t","Math","round","toLocaleString","port1","onmessage","e","tre","performance","now","ts","innerHTML","i","port2","postMessage","tse","bench.main"],"mappings":"2HAEO,WAEC,IAAAA,EAAMC,SAASC,cAA8B,QAE7CC,EAAI,MACJC,EAAK,IAAIC,eACTC,EAAK,EAMT,SAASC,EAASC,GAEd,OAAOC,KAAKC,MAAMF,GAAGG,gBACzB,CAEGP,EAAAQ,MAAMC,UAAaC,IAElB,GADMR,GAAA,EACFA,GAAMH,EAAG,CACL,IAAAY,EAAMC,YAAYC,MAAQC,EAE1BlB,EAAAmB,WAAa,mBAAmBZ,EAASQ,EAAM,SAAUR,EAAS,IAAOJ,EAAIY,SACrF,GAGJf,EAAImB,WAAa,qBAEb,IAAAD,EAAKF,YAAYC,MAErB,IAAA,IAASG,EAAI,EAAGA,EAAIjB,EAAGiB,IAChBhB,EAAAiB,MAAMC,YAAY,IAGrB,IAAAC,EAAMP,YAAYC,MAAQC,EAG1BlB,EAAAmB,WAAa,iBAAiBZ,EAASgB,EAAM,SAAUhB,EAAS,IAAOJ,EAAIoB,SACnF,CCtCIC"}