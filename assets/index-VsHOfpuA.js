import"./modulepreload-polyfill-xwJNGKPl.js";import{b as i,$ as a}from"./browser-L5sDYLvP.js";import"./purify.es-PBAgqAjd.js";(async()=>{console.log(i);let o=a("#canvas"),c=a("#image");a("#image2");let n=a("#copy");a("#target"),await(async e=>{c.src=await i.toDataURL(o,e,{errorCorrectionLevel:"H"})})("https://e-nikolov.github.io/mpyc-test/?peer=c814d8ce-f1a9-4767-ae18-fec8fc386180");const l=await new Promise(e=>o.toBlob(t=>e(t)));console.log("blob",l),n.addEventListener("click",()=>{console.log("copy button clicked"),document.execCommand("Copy")}),window.addEventListener("copy",function(e){console.log("intercepting copy--------------------------",e.clipboardData);let t=new File([l],"qr.png",{type:"image/png"});e.clipboardData.items.add(t),console.log("text/plain",e.clipboardData.getData("text/plain")),console.log("text/html",e.clipboardData.getData("text/html")),console.log("image/png",e.clipboardData.getData("image/png")),console.log("f1",t),console.log("size 1",t.size),console.log("files",e.clipboardData.files),console.log("items",e.clipboardData.items),console.log("kind",e.clipboardData.items[0].kind),console.log("type",e.clipboardData.items[0].type),console.log(e.clipboardData.setData),e.preventDefault()}),document.addEventListener("paste",function(e){console.log("intercepting paste--------------------------",e.clipboardData),console.log("image/png",e.clipboardData.getData("image/png")),console.log("text/plain",e.clipboardData.getData("text/plain")),console.log("text/html",e.clipboardData.getData("text/html")),console.log("items[0]",e.clipboardData.items[0]),console.log("type",e.clipboardData.items[0].type),console.log("kind",e.clipboardData.items[0].kind);let t=e.clipboardData.items[0].getAsFile();console.log("f2",t),console.log("size 2",t.size),console.log("paste",e.clipboardData)})})();
