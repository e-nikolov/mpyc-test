import{a as q,s as Tt}from"./callsoon-6da41c3b.js";const Ot=(m="#out",o=["Data"])=>(...l)=>{const d=kt(m,o).insertRow();for(let _ of l){const w=d.insertCell();w.textContent=_,w.style.paddingRight="50px"}},kt=(m="#out",o=["Data"])=>{const l=document.querySelector(m);let p=l.querySelector("table");if(p)return p;const d=document.createElement("table"),_=d.createTHead().insertRow();_.style.borderBottom="1px solid #ccc";for(let w of o)_.insertCell().textContent=w;return l.insertAdjacentElement("beforeend",d),d};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Y;(function(m){(function(o){var l=typeof q=="object"?q:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),p=d(m);typeof l.Reflect>"u"?l.Reflect=m:p=d(l.Reflect,p),o(p);function d(_,w){return function(g,k){typeof _[g]!="function"&&Object.defineProperty(_,g,{configurable:!0,writable:!0,value:k}),w&&w(g,k)}}})(function(o){var l=Object.prototype.hasOwnProperty,p=typeof Symbol=="function",d=p&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",_=p&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",w=typeof Object.create=="function",g={__proto__:[]}instanceof Array,k=!w&&!g,S={create:w?function(){return A(Object.create(null))}:g?function(){return A({__proto__:null})}:function(){return A({})},has:k?function(t,e){return l.call(t,e)}:function(t,e){return e in t},get:k?function(t,e){return l.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},N=Object.getPrototypeOf(Function),P=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",j=!P&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:bt(),J=!P&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Mt(),Q=!P&&typeof WeakMap=="function"?WeakMap:gt(),E=new Q;function X(t,e,r,n){if(h(r)){if(!W(t))throw new TypeError;if(!$(e))throw new TypeError;return st(t,e)}else{if(!W(t))throw new TypeError;if(!y(e))throw new TypeError;if(!y(n)&&!h(n)&&!T(n))throw new TypeError;return T(n)&&(n=void 0),r=b(r),ft(t,e,r,n)}}o("decorate",X);function K(t,e){function r(n,i){if(!y(n))throw new TypeError;if(!h(i)&&!pt(i))throw new TypeError;U(t,e,n,i)}return r}o("metadata",K);function tt(t,e,r,n){if(!y(r))throw new TypeError;return h(n)||(n=b(n)),U(t,e,r,n)}o("defineMetadata",tt);function et(t,e,r){if(!y(e))throw new TypeError;return h(r)||(r=b(r)),R(t,e,r)}o("hasMetadata",et);function rt(t,e,r){if(!y(e))throw new TypeError;return h(r)||(r=b(r)),x(t,e,r)}o("hasOwnMetadata",rt);function nt(t,e,r){if(!y(e))throw new TypeError;return h(r)||(r=b(r)),G(t,e,r)}o("getMetadata",nt);function it(t,e,r){if(!y(e))throw new TypeError;return h(r)||(r=b(r)),L(t,e,r)}o("getOwnMetadata",it);function at(t,e){if(!y(t))throw new TypeError;return h(e)||(e=b(e)),F(t,e)}o("getMetadataKeys",at);function ot(t,e){if(!y(t))throw new TypeError;return h(e)||(e=b(e)),D(t,e)}o("getOwnMetadataKeys",ot);function ut(t,e,r){if(!y(e))throw new TypeError;h(r)||(r=b(r));var n=I(e,r,!1);if(h(n)||!n.delete(t))return!1;if(n.size>0)return!0;var i=E.get(e);return i.delete(r),i.size>0||E.delete(e),!0}o("deleteMetadata",ut);function st(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],i=n(e);if(!h(i)&&!T(i)){if(!$(i))throw new TypeError;e=i}}return e}function ft(t,e,r,n){for(var i=t.length-1;i>=0;--i){var v=t[i],u=v(e,r,n);if(!h(u)&&!T(u)){if(!y(u))throw new TypeError;n=u}}return n}function I(t,e,r){var n=E.get(t);if(h(n)){if(!r)return;n=new j,E.set(t,n)}var i=n.get(e);if(h(i)){if(!r)return;i=new j,n.set(e,i)}return i}function R(t,e,r){var n=x(t,e,r);if(n)return!0;var i=C(e);return T(i)?!1:R(t,i,r)}function x(t,e,r){var n=I(e,r,!1);return h(n)?!1:dt(n.has(t))}function G(t,e,r){var n=x(t,e,r);if(n)return L(t,e,r);var i=C(e);if(!T(i))return G(t,i,r)}function L(t,e,r){var n=I(e,r,!1);if(!h(n))return n.get(t)}function U(t,e,r,n){var i=I(r,n,!0);i.set(t,e)}function F(t,e){var r=D(t,e),n=C(t);if(n===null)return r;var i=F(n,e);if(i.length<=0)return r;if(r.length<=0)return i;for(var v=new J,u=[],s=0,a=r;s<a.length;s++){var f=a[s],c=v.has(f);c||(v.add(f),u.push(f))}for(var M=0,V=i;M<V.length;M++){var f=V[M],c=v.has(f);c||(v.add(f),u.push(f))}return u}function D(t,e){var r=[],n=I(t,e,!1);if(h(n))return r;for(var i=n.keys(),v=vt(i),u=0;;){var s=wt(v);if(!s)return r.length=u,r;var a=_t(s);try{r[u]=a}catch(f){try{mt(v)}finally{throw f}}u++}}function B(t){if(t===null)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return t===null?1:6;default:return 6}}function h(t){return t===void 0}function T(t){return t===null}function ct(t){return typeof t=="symbol"}function y(t){return typeof t=="object"?t!==null:typeof t=="function"}function lt(t,e){switch(B(t)){case 0:return t;case 1:return t;case 2:return t;case 3:return t;case 4:return t;case 5:return t}var r=e===3?"string":e===5?"number":"default",n=H(t,d);if(n!==void 0){var i=n.call(t,r);if(y(i))throw new TypeError;return i}return ht(t,r==="default"?"number":r)}function ht(t,e){if(e==="string"){var r=t.toString;if(O(r)){var n=r.call(t);if(!y(n))return n}var i=t.valueOf;if(O(i)){var n=i.call(t);if(!y(n))return n}}else{var i=t.valueOf;if(O(i)){var n=i.call(t);if(!y(n))return n}var v=t.toString;if(O(v)){var n=v.call(t);if(!y(n))return n}}throw new TypeError}function dt(t){return!!t}function yt(t){return""+t}function b(t){var e=lt(t,3);return ct(e)?e:yt(e)}function W(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:Object.prototype.toString.call(t)==="[object Array]"}function O(t){return typeof t=="function"}function $(t){return typeof t=="function"}function pt(t){switch(B(t)){case 3:return!0;case 4:return!0;default:return!1}}function H(t,e){var r=t[e];if(r!=null){if(!O(r))throw new TypeError;return r}}function vt(t){var e=H(t,_);if(!O(e))throw new TypeError;var r=e.call(t);if(!y(r))throw new TypeError;return r}function _t(t){return t.value}function wt(t){var e=t.next();return e.done?!1:e}function mt(t){var e=t.return;e&&e.call(t)}function C(t){var e=Object.getPrototypeOf(t);if(typeof t!="function"||t===N||e!==N)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(n==null||n===Object.prototype)return e;var i=n.constructor;return typeof i!="function"||i===t?e:i}function bt(){var t={},e=[],r=function(){function u(s,a,f){this._index=0,this._keys=s,this._values=a,this._selector=f}return u.prototype["@@iterator"]=function(){return this},u.prototype[_]=function(){return this},u.prototype.next=function(){var s=this._index;if(s>=0&&s<this._keys.length){var a=this._selector(this._keys[s],this._values[s]);return s+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:a,done:!1}}return{value:void 0,done:!0}},u.prototype.throw=function(s){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),s},u.prototype.return=function(s){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:s,done:!0}},u}();return function(){function u(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(u.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),u.prototype.has=function(s){return this._find(s,!1)>=0},u.prototype.get=function(s){var a=this._find(s,!1);return a>=0?this._values[a]:void 0},u.prototype.set=function(s,a){var f=this._find(s,!0);return this._values[f]=a,this},u.prototype.delete=function(s){var a=this._find(s,!1);if(a>=0){for(var f=this._keys.length,c=a+1;c<f;c++)this._keys[c-1]=this._keys[c],this._values[c-1]=this._values[c];return this._keys.length--,this._values.length--,s===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},u.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},u.prototype.keys=function(){return new r(this._keys,this._values,n)},u.prototype.values=function(){return new r(this._keys,this._values,i)},u.prototype.entries=function(){return new r(this._keys,this._values,v)},u.prototype["@@iterator"]=function(){return this.entries()},u.prototype[_]=function(){return this.entries()},u.prototype._find=function(s,a){return this._cacheKey!==s&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=s)),this._cacheIndex<0&&a&&(this._cacheIndex=this._keys.length,this._keys.push(s),this._values.push(void 0)),this._cacheIndex},u}();function n(u,s){return u}function i(u,s){return s}function v(u,s){return[u,s]}}function Mt(){return function(){function t(){this._map=new j}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return this._map.set(e,e),this},t.prototype.delete=function(e){return this._map.delete(e)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[_]=function(){return this.keys()},t}()}function gt(){var t=16,e=S.create(),r=n();return function(){function a(){this._key=n()}return a.prototype.has=function(f){var c=i(f,!1);return c!==void 0?S.has(c,this._key):!1},a.prototype.get=function(f){var c=i(f,!1);return c!==void 0?S.get(c,this._key):void 0},a.prototype.set=function(f,c){var M=i(f,!0);return M[this._key]=c,this},a.prototype.delete=function(f){var c=i(f,!1);return c!==void 0?delete c[this._key]:!1},a.prototype.clear=function(){this._key=n()},a}();function n(){var a;do a="@@WeakMap@@"+s();while(S.has(e,a));return e[a]=!0,a}function i(a,f){if(!l.call(a,r)){if(!f)return;Object.defineProperty(a,r,{value:S.create()})}return a[r]}function v(a,f){for(var c=0;c<f;++c)a[c]=Math.random()*255|0;return a}function u(a){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(a)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(a)):v(new Uint8Array(a),a):v(new Array(a),a)}function s(){var a=u(t);a[6]=a[6]&79|64,a[8]=a[8]&191|128;for(var f="",c=0;c<t;++c){var M=a[c];(c===4||c===6||c===8)&&(f+="-"),M<16&&(f+="0"),f+=M.toString(16).toLowerCase()}return f}}function A(t){return t.__=void 0,delete t.__,t}})})(Y||(Y={}));class Z{static async run2(o={},l){const p=l?Object.getPrototypeOf(l):this.prototype;for(const d of Object.getOwnPropertyNames(p))d!="constructor"&&(await St(p[d].bind(l||p),{...o,name:`${o.name||p.constructor.name} - ${d}`}),await Tt(0))}async run(o={}){await Z.run2(o,this)}}const St=async(m,o={})=>{o={...z,...o};let l=new It(m,o);return await l.run(),o.logEnabled&&l.logTable(o.logSelector),l},z={name:"",setupFn:()=>{},logEnabled:!0,logSelector:"#out",runtimeGoalMS:500,this:void 0};class It{_N=0;_I=0;_duration=0;benchFunc=()=>{};startTime=0;timerOn=!1;opts;get N(){return this._N}get I(){return this._I}get duration(){return this._duration}get name(){return this.opts.name}get result(){return{name:this.name,N:this.N.toLocaleString,duration:this.duration.toLocaleString}}constructor(o,l={}){this.opts={...z,...l},this.benchFunc=o}StartTimer(){this.timerOn||(this.startTime=performance.now(),this.timerOn=!0)}StopTimer(){this.timerOn&&(this._duration+=performance.now()-this.startTime,this.timerOn=!1)}ResetTimer(){this.timerOn&&(this.startTime=performance.now()),this._duration=0}run=async()=>{await this.runN(1);for(let o=1;this._duration<=this.opts.runtimeGoalMS&&o<1e9;){let l=o,p=this._N,d=this._duration;d<=0&&(d=1),o=Math.floor(this.opts.runtimeGoalMS*p/d),o+=Math.floor(o/5),o=Math.min(o,100*l),o=Math.max(o,l+1),o=Math.min(o,1e9),await this.runN(o)}};runN=async o=>{for(this._N=o,this._I=0;this._I<o;this._I++)this.opts.setupFn(this);for(this.ResetTimer(),this.StartTimer(),this._I=0;this._I<o;this._I++)await this.benchFunc(this);this.StopTimer()};toString(){return`${this.name}		${Math.round(1e3*this.N/(this.duration+1)).toLocaleString()} ops/sec`}toStrings(){return[this.name,`${Math.round(1e3*this.N/(this.duration+1)).toLocaleString()} ops/sec`]}logTable(o="#out"){Ot(o,["Name","Ops/sec"])(...this.toStrings())}}export{Z as B};
