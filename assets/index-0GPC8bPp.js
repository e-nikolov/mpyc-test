import{b as t}from"./purify.es-jU6xpJvk.js";const e=(t="#out",e=["Data"])=>{const r=document.querySelector(t);let i=r.querySelector("table");if(i)return i;const n=document.createElement("table"),s=n.createTHead().insertRow();s.style.borderBottom="1px solid #ccc";for(let o of e)s.insertCell().textContent=o;return r.insertAdjacentElement("beforeend",n),n};class r{static async run2(e={},r){const n=r?Object.getPrototypeOf(r):this.prototype;for(const s of Object.getOwnPropertyNames(n))"constructor"!=s&&(await i(n[s].bind(r||n),{...e,name:`${e.name||n.constructor.name} - ${s}`}),await t(0))}async run(t={}){await r.run2(t,this)}}const i=async(t,e={})=>{e={...n,...e};let r=new s(t,e);return await r.run(),e.logEnabled&&r.logTable(e.logSelector),r},n={name:"",setupFn:()=>{},logEnabled:!0,logSelector:"#out",runtimeGoalMS:500,this:void 0};class s{_N=0;_I=0;_duration=0;benchFunc=()=>{};startTime=0;timerOn=!1;opts;get N(){return this._N}get I(){return this._I}get duration(){return this._duration}get name(){return this.opts.name}get result(){return{name:this.name,N:this.N.toLocaleString,duration:this.duration.toLocaleString}}constructor(t,e={}){this.opts={...n,...e},this.benchFunc=t}StartTimer(){this.timerOn||(this.startTime=performance.now(),this.timerOn=!0)}StopTimer(){this.timerOn&&(this._duration+=performance.now()-this.startTime,this.timerOn=!1)}ResetTimer(){this.timerOn&&(this.startTime=performance.now()),this._duration=0}run=async()=>{await this.runN(1);for(let t=1;this._duration<=this.opts.runtimeGoalMS&&t<1e9;){let e=t,r=this._N,i=this._duration;i<=0&&(i=1),t=Math.floor(this.opts.runtimeGoalMS*r/i),t+=Math.floor(t/5),t=Math.min(t,100*e),t=Math.max(t,e+1),t=Math.min(t,1e9),await this.runN(t)}};runN=async t=>{for(this._N=t,this._I=0;this._I<t;this._I++)this.opts.setupFn(this);for(this.ResetTimer(),this.StartTimer(),this._I=0;this._I<t;this._I++)await this.benchFunc(this);this.StopTimer()};toString(){return`${this.name}\t\t${Math.round(1e3*this.N/(this.duration+1)).toLocaleString()} ops/sec`}toStrings(){return[this.name,`${Math.round(1e3*this.N/(this.duration+1)).toLocaleString()} ops/sec`]}logTable(t="#out"){((t="#out",r=["Data"])=>(...i)=>{const n=e(t,r).insertRow();for(let t of i){const e=n.insertCell();e.textContent=t,e.style.paddingRight="50px"}})(t,["Name","Ops/sec"])(...this.toStrings())}}export{r as B};
//# sourceMappingURL=index-0GPC8bPp.js.map
